#pragma once

//////////////////////////////////////////////////////////////////////////
/// Includes
//////////////////////////////////////////////////////////////////////////

#include <OrangeAudioEngineDefs.h>


//////////////////////////////////////////////////////////////////////////
/// COAEAudioSourceManager
//////////////////////////////////////////////////////////////////////////

// maintains all instances of audio sources
class COAESourceManager
{
public:

    //////////////////////////////////////////////////////////////////////////

    COAESourceManager();
    ~COAESourceManager();

    //////////////////////////////////////////////////////////////////////////

    OASourceId  AddSource( const std::string& aFileName );

    //////////////////////////////////////////////////////////////////////////

    bool        IsValid( const OASourceId& aSourceId ) const;


private:   

    //////////////////////////////////////////////////////////////////////////

    typedef std::unordered_map<OASourceId, OASourcePtr> OAESourceMap;

    //////////////////////////////////////////////////////////////////////////

    OASourcePtr CreateWavFileSource( const std::string& aFileName );

    //////////////////////////////////////////////////////////////////////////

    //std::vector<OASourcePtr>    m_fileSources;
    OAESourceMap                m_fileSources;
    OASourceId                  m_nextSourceId;
};

//////////////////////////////////////////////////////////////////////////
