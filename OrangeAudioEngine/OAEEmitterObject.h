#pragma once

//////////////////////////////////////////////////////////////////////////
/// Includes
//////////////////////////////////////////////////////////////////////////

#include <OrangeAudioEngineDefs.h>


//////////////////////////////////////////////////////////////////////////
/// Forward Declarations
//////////////////////////////////////////////////////////////////////////

class COAEVoice;
class COAEVoiceManager;


//////////////////////////////////////////////////////////////////////////
/// COAEEmitterObject
//////////////////////////////////////////////////////////////////////////

// COAEEmitterObecjt is used to manage vocies plaing sounds on the mastering voice
class COAEEmitterObject
{
public:

    //////////////////////////////////////////////////////////////////////////

    COAEEmitterObject( OAEmitterId anId, COAEVoiceManager* aVoiceManager );
    ~COAEEmitterObject();

	//////////////////////////////////////////////////////////////////////////

    OAVoiceId PlaySound( const OASourceId& aSourceId );


private:

    //////////////////////////////////////////////////////////////////////////

    OAEmitterId                 m_id;
    COAEVoiceManager*           m_voiceManager;

    std::vector<OAVoiceId>      m_voices;

    //////////////////////////////////////////////////////////////////////////

    // legacy
    IXAudio2SourceVoice*        m_voice;
};

//////////////////////////////////////////////////////////////////////////
