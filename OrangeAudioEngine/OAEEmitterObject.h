#pragma once

//////////////////////////////////////////////////////////////////////////
/// Includes
//////////////////////////////////////////////////////////////////////////

#include <OrangeAudioEngineDefs.h>


//////////////////////////////////////////////////////////////////////////
/// Forward Declarations
//////////////////////////////////////////////////////////////////////////

class COAEVoice;


//////////////////////////////////////////////////////////////////////////
/// COAEEmitterObject
//////////////////////////////////////////////////////////////////////////

// COAEEmitterObecjt is used to manage vocies plaing sounds on the mastering voice
class COAEEmitterObject
{
public:

    //////////////////////////////////////////////////////////////////////////

    COAEEmitterObject( OAEmitterId anId );
    ~COAEEmitterObject();

	//////////////////////////////////////////////////////////////////////////

	OAVoiceId PlaySound( const std::string& anAudioFile, IXAudio2& anAudioInterface );


private:

    //////////////////////////////////////////////////////////////////////////

    typedef std::shared_ptr<COAEVoice> OAESoundPtr;

    //////////////////////////////////////////////////////////////////////////

    OAEmitterId                 m_id;
    IXAudio2SourceVoice*        m_voice;
    std::vector<OAESoundPtr>    m_activeSounds;
};

//////////////////////////////////////////////////////////////////////////
